(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/luna-upgrade/luna-upgrade"],{1165:function(t,e,n){"use strict";n.r(e);var a=n("3939"),o=n("63f6");for(var u in o)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("ba5b");var i=n("828b"),s=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"3735a4b2",null,!1,a["a"],void 0);e["default"]=s.exports},3939:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var a=function(){var t=this.$createElement;this._self._c},o=[]},"63f6":function(t,e,n){"use strict";n.r(e);var a=n("7f19"),o=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(u);e["default"]=o.a},"7f19":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"LunaUpgrade",props:{url:{type:String,default:""},notes:{type:String,default:""}},data:function(){return{show:!1,percent:0,update:!1,updatePath:""}},methods:{open:function(){this.show=!0,t.hideTabBar(),this.$emit("change",{show:!0})},close:function(){var e=this;this.$nextTick((function(){clearTimeout(e.timer),e.timer=setTimeout((function(){e.$emit("change",{show:!1}),e.show=!1,t.showTabBar()}),300)}))},updateNow:function(){var e=this;function n(n,a){var o=n.totalSize,u=n.downloadedSize;e.percent=(u/o*100).toFixed(0),e.update=!0,4==n.state&&200==a&&(e.updatePath=n.filename,t.setStorageSync("update_path",e.updatePath))}e.updatePath=t.getStorageSync("update_path"),plus.io.resolveLocalFileSystemURL(e.updatePath,(function(t){console.log(t),e.install()}),(function(t){console.log(t);var a=plus.downloader.createDownload(e.url,{filename:"_downloads/"});a.addEventListener("statechanged",n,!1),a.start()}))},install:function(){this.close(),plus.nativeUI.showWaiting("安装中,请稍后..."),console.log(this.updatePath),plus.runtime.install(this.updatePath,{},(function(e){plus.nativeUI.closeWaiting(),plus.runtime.restart(),t.removeStorageSync("update_path")}),(function(t){plus.nativeUI.closeWaiting(),plus.nativeUI.alert("安装出错 "+t.code,"","提示")}))}}};e.default=n}).call(this,n("df3c")["default"])},"7ff7":function(t,e,n){},ba5b:function(t,e,n){"use strict";var a=n("7ff7"),o=n.n(a);o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/luna-upgrade/luna-upgrade-create-component',
    {
        'components/luna-upgrade/luna-upgrade-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('df3c')['createComponent'](__webpack_require__("1165"))
        })
    },
    [['components/luna-upgrade/luna-upgrade-create-component']]
]);
